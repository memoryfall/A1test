<!DOCTYPE html>
<html class="um landscape min-width-240px min-width-320px min-width-480px min-width-768px min-width-1024px">
    <head>
        <title></title>
        <meta charset="utf-8">
        <meta name="viewport" content="target-densitydpi=device-dpi, width=device-width, initial-scale=1, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
        <link rel="stylesheet" href="css/fonts/font-awesome.min.css">
        <link rel="stylesheet" href="css/ui-box.css">
        <link rel="stylesheet" href="css/ui-base.css">
        <link rel="stylesheet" href="css/ui-color.css">
        <link rel="stylesheet" href="css/appcan.icon.css">
        <link rel="stylesheet" href="css/appcan.control.css">
        <link rel="stylesheet" href="index_drawer/css/main.css">
        <script type="text/javascript" src="js/appcan.js"></script>
        <script type="text/javascript" src="js/appcan.control.js"></script>
        <script type="text/javascript" src="js/appcan.listview.js"></script>
        <style>
            .drawer {
                margin-right: 4em;
            }
            .shadow {
                -webkit-box-shadow: inset -4px 1px 3px rgba(0, 0, 0, .2);
                box-shadow: inset -4px 1px 3px rgba(0, 0, 0, .2)
            }
        </style>
    </head>
    <body class="um-vp bc-bg" ontouchstart>
        <div id="page_0" class="up ub ub-ver bc-bg uhide" tabindex="0">
            <div class="ub ub-ver ub-fv">
                <div id="header" class="uh bc-text-head ub bc-head"></div>
            <div id="content" class="ub-f1 tx-l shadow drawer" style="height: 100%;">
                <div class="ub bc-text ulev2 ub-ac uinn1">
                    设置
                </div>
                <div id="listview"  class="ubt bc-border sc-bg" style="right: .5em;top: .2em;"></div>
            </div>
        </div>  
    </body>
    <script>
        appcan.ready(function() {
            appcan.window.open("index", "index.html", 10, 256);
            //订阅main_window_open频道，如果有消息发给该频道，则会执行响应的回调 
            appcan.window.subscribe("main_window_open", function() {
                //1秒后执行撤销隐藏
                setTimeout(function() {
                    $("#page_0").removeClass("uhide");
                }, 1000);
            })
            appcan.window.subscribe("draw_close", function() {
                appcan.window.close(-1);
            });
        });
        var lv = appcan.listview({
            selector : "#listview",
            type : "thinLine",
            hasAngle : true
        });
        lv.set([{
            name : "111",
            title : "店铺",
            id : "1",
            url : "index.html"
        }, {
            name : "112",
            title : "店铺",
            id : "1",
            url : "index.html"
        }, {
            name : "Login",
            title : "登录",
            id : "login",
            url : "login.html"
        }])
        lv.on("click", function(ele, obj, curEle) {
            appcan.window.open(obj.name, obj.url, 10, 256);
            appcan.window.subscribe("main_window_open", function() {
                setTimeout(function() {
                    $("#page_0").removeClass("uhide");
                }, 1000);
            })
            appcan.window.subscribe("draw_close", function() {
                appcan.window.close(-1);
            });
        })

    </script>
</html>
